<sect1 id="online-analyze">
  <title>online-analyze</title>
  <para>
    The <filename>online_analyze</filename> module provides a set of
    features that immediately update statistics after <command>INSERT</command>,
    <command>UPDATE</command>, <command>DELETE</command>, or <command>SELECT INTO</command>
    operations for the affected tables.
  </para>

  <sect2 id="online-analyze-loading">
    <title>Module Loading</title>
    <para>
      To use <filename>online_analyze</filename> module, load the shared library:

      <programlisting>
LOAD 'online_analyze';
</programlisting>
    </para>
  </sect2>

  <sect2 id="online-analyze-configuration">
    <title>Module Configuration</title>

    <para>
      You can configure <filename>online_analyze</filename> using
      the following custom variables (default values are shown):

      <itemizedlist>
        <listitem>
          <para>online_analyze.enable = on</para>
          <para>Enables <filename>online_analyze</filename>.</para>
        </listitem>
        <listitem>
          <para>online_analyze.verbose = on</para>
          <para>Executes <command>ANALYZE VERBOSE</command>.</para>
        </listitem>
        <listitem>
          <para>online_analyze.scale_factor = 0.1</para>
          <para>Fraction of table size to start online analysis
          (similar to <xref linkend="guc-autovacuum-analyze-scale-factor">).</para>
        </listitem>

        <listitem>
          <para>online_analyze.threshold = 50</para>
          <para>Minimum number of row updates before starting online analysis
          (similar to <xref linkend="guc-autovacuum-analyze-threshold">).</para>
        </listitem>

        <listitem>
          <para>online_analyze.min_interval = 10000</para>
          <para>Minimum time interval between <command>ANALYZE</command>
          calls per table, in milliseconds.</para>
        </listitem>

        <listitem>
          <para>online_analyze.table_type = "all"</para>
          <para>Type(s) of tables for online analysis. Possible values are:
          <literal>all</literal>, <literal>persistent</literal>,
          <literal>temporary</literal>, <literal>none</literal>.</para>
        </listitem>

        <listitem>
          <para>online_analyze.exclude_tables = ""</para>
          <para>List of tables to exclude from online analysis.</para>
        </listitem>

        <listitem>
          <para>online_analyze.include_tables = ""</para>
          <para>List of tables to include in online analysis
          (<varname>online_analyze.include_tables</varname> overrides
          <varname>online_analyze.exclude_tables</varname>).</para>
        </listitem>

        <listitem>
          <para>online_analyze.local_tracking = off</para>
          <para>Enables per-backend tracking for temporary tables by
          <filename>online_analyze</filename>. When this variable is set
          to <literal>off</literal>, <filename>online_analyze</filename>
          uses the default system statistics for temporary tables.</para>
        </listitem>

        <listitem>
          <para>online_analyze.lower_limit = 0</para>
          <para>Minimum number of rows in a table required to trigger
          <filename>online_analyze</filename>.</para>
        </listitem>

        <listitem>
          <para>online_analyze.capacity_threshold = 100000</para>
          <para>Maximum number of temporary tables to store
          in local cache.</para>
        </listitem>
      </itemizedlist>
    </para>
  </sect2>

  <sect2 id="online-analyze-authors">
    <title>Authors</title>
    <literallayout>
      Teodor Sigaev <email>teodor@sigaev.ru</email>
    </literallayout>
  </sect2>

</sect1>
